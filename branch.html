<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capy Branch Deployments</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
      line-height: 1.6;
    }
    h1 {
      color: #333;
      border-bottom: 2px solid #e1e4e8;
      padding-bottom: 10px;
    }
    .info {
      background: #f6f8fa;
      border: 1px solid #e1e4e8;
      border-radius: 6px;
      padding: 15px;
      margin: 20px 0;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 15px 0;
      padding: 15px;
      background: #fff;
      border: 1px solid #e1e4e8;
      border-radius: 6px;
      transition: box-shadow 0.2s;
    }
    li:hover {
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    li.main-branch {
      background: #e6f7ff;
      border-color: #91d5ff;
    }
    .branch-link {
      font-size: 1.1em;
      font-weight: 600;
      color: #0366d6;
      text-decoration: none;
    }
    .branch-link:hover {
      text-decoration: underline;
    }
    .pr-info {
      margin-top: 5px;
      font-size: 0.9em;
      color: #586069;
    }
    .pr-link {
      color: #0366d6;
      text-decoration: none;
    }
    .pr-link:hover {
      text-decoration: underline;
    }
    .timestamp {
      font-size: 0.85em;
      color: #6a737d;
      margin-top: 5px;
    }
    .badge {
      display: inline-block;
      padding: 2px 8px;
      font-size: 0.75em;
      font-weight: 600;
      border-radius: 12px;
      background: #28a745;
      color: white;
      margin-left: 8px;
    }
    .main-details {
      margin-top: 10px;
      font-size: 0.9em;
      color: #586069;
    }
    .commit-list {
      margin-top: 8px;
      padding-left: 15px;
      border-left: 2px solid #e1e4e8;
    }
    .commit-item {
      margin: 5px 0;
      font-size: 0.85em;
    }
    .commit-message {
      color: #24292e;
      font-weight: 500;
    }
    .commit-message a {
      font-family: 'Courier New', Courier, monospace;
      font-weight: 600;
    }
    .commit-author {
      color: #586069;
    }
    .commit-sha {
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 0.9em;
      color: #0366d6;
      text-decoration: none;
    }
    .commit-sha:hover {
      text-decoration: underline;
    }
    .commit-prs {
      margin-top: 3px;
      font-size: 0.8em;
    }
    .commit-pr-link {
      color: #6f42c1;
      text-decoration: none;
      margin-right: 8px;
    }
    .commit-pr-link:hover {
      text-decoration: underline;
    }
  </style>
  <script>
    // Function to format timestamp to local timezone
    function formatLocalTime(timestamp) {
      if (!timestamp) return 'N/A';
      const date = new Date(timestamp);
      return date.toLocaleString(undefined, {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        timeZoneName: 'short'
      });
    }

    // Convert all timestamps to local timezone after page loads
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('[data-timestamp]').forEach(function(element) {
        const timestamp = parseInt(element.getAttribute('data-timestamp'));
        element.textContent = formatLocalTime(timestamp);
      });
    });
  </script>
</head>
<body>
  <h1>Capy Image Generator - Branch Deployments</h1>
  <div class="info">
    <strong>Note:</strong> The main branch is always deployed to the root.
    Other branches with open pull requests are deployed to subfolders.
    Branches are sorted by most recently updated first.
    All dates and times are shown in your local timezone.
  </div>
  <ul>
              <li class="main-branch">
                <a class="branch-link" href="./">main<span class="badge">PRODUCTION</span></a>
                <div class="pr-info">The main production branch - always deployed to root</div>
                <div class="main-details">
                  <div class="timestamp">Last commit: <span data-timestamp="1760454899000">1760454899000</span></div>
                  <div class="timestamp">Last deployment: <span data-timestamp="1760455047347">1760455047347</span></div>
                  <div class="commit-list">
<div class="commit-item"><div class="commit-message">Merge pull request #128 from shthed/copilot/fix-cleanup-job-issue</div><div class="commit-author">by Hairy Dog Trumpet · <span data-timestamp="1760454899000">1760454899000</span> · <a class="commit-sha" href="https://github.com/shthed/capy/commit/c24ac6a815d7d9e369bedcb20d4aecea401c10c7">c24ac6a</a></div><div class="commit-prs"><a class="commit-pr-link" href="https://github.com/shthed/capy/pull/128">#128</a></div></div>
<div class="commit-item"><div class="commit-message">Remove trailing spaces from workflow file</div><div class="commit-author">by Codex · <span data-timestamp="1760454727000">1760454727000</span> · <a class="commit-sha" href="https://github.com/shthed/capy/commit/49a57df213290686c69e3712e774fc0fe6d9b40f">49a57df</a></div><div class="commit-prs"><a class="commit-pr-link" href="https://github.com/shthed/capy/pull/128">#128</a></div></div>
<div class="commit-item"><div class="commit-message">Fix deployment cleanup to prevent directory iteration issues</div><div class="commit-author">by Codex · <span data-timestamp="1760454621000">1760454621000</span> · <a class="commit-sha" href="https://github.com/shthed/capy/commit/2f12f1061262b2ec5fb72dac736bec4f053e5eb2">2f12f10</a></div><div class="commit-prs"><a class="commit-pr-link" href="https://github.com/shthed/capy/pull/128">#128</a></div></div>
                  </div>
                </div>
              </li>
<li><a class="branch-link" href="codex-review-last-2-days-of-commits/">codex/review-last-2-days-of-commits</a><div class="pr-info">PR #125: Simplify developer map overview - <a class="pr-link" href="https://github.com/shthed/capy/pull/125">View PR</a></div><div class="timestamp">Last updated: <span data-timestamp="1760455031000">2025-10-14T15:17:11Z</span></div></li>
<li><a class="branch-link" href="copilot-update-automation-loop-md/">copilot/update-automation-loop-md</a><div class="pr-info">PR #120: Implement automated testing system with screenshot capture - <a class="pr-link" href="https://github.com/shthed/capy/pull/120">View PR</a></div><div class="timestamp">Last updated: <span data-timestamp="1760451855000">2025-10-14T14:24:15Z</span></div></li>
<li><a class="branch-link" href="codex-introduce-renderer-abstraction-for-webgl/">codex/introduce-renderer-abstraction-for-webgl</a><div class="pr-info">PR #124: Scaffold renderer manager with label overlay canvas - <a class="pr-link" href="https://github.com/shthed/capy/pull/124">View PR</a></div><div class="timestamp">Last updated: <span data-timestamp="1760448133000">2025-10-14T13:22:13Z</span></div></li>
  </ul>
</body>
</html>
